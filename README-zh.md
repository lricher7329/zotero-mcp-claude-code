# Zotero MCP - Model Context Protocol Integration for Zotero

Zotero MCP æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæ—¨åœ¨é€šè¿‡æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆModel Context Protocol, MCPï¼‰å°†å¼ºå¤§çš„ AI åŠŸèƒ½ä¸é¢†å…ˆçš„æ–‡çŒ®ç®¡ç†å·¥å…· Zotero æ— ç¼é›†æˆï¼Œä¸º AI åŠ©æ‰‹ï¼ˆå¦‚ Claudeï¼‰æä¾›ä¸æ‚¨æœ¬åœ° Zotero æ–‡çŒ®åº“äº¤äº’çš„èƒ½åŠ›ã€‚
_This README is also available in: [:gb: English](./README.md) | :cn: ç®€ä½“ä¸­æ–‡._
[![GitHub](https://img.shields.io/badge/GitHub-zotero--mcp-blue?logo=github)](https://github.com/cookjohn/zotero-mcp)
[![zotero target version](https://img.shields.io/badge/Zotero-7-green?style=flat-square&logo=zotero&logoColor=CC2936)](https://www.zotero.org)
[![Node.js](https://img.shields.io/badge/Node.js-18%2B-green)](https://nodejs.org)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.4-blue)](https://www.typescriptlang.org)
[![Version](https://img.shields.io/badge/Version-1.1.0-brightgreen)]()
[![EN doc](https://img.shields.io/badge/Document-English-blue.svg)](README.md)
[![ä¸­æ–‡æ–‡æ¡£](https://img.shields.io/badge/æ–‡æ¡£-ä¸­æ–‡-blue.svg)](README-zh.md)

---
## å…³æ³¨æˆ‘ä»¬
 
 | å…¬ä¼—å· | åŠ å…¥ç¾¤èŠ |
| :--- | :---: |
| ![Reading PDF](./IMG/MP.jpg) | ![Contact us](./IMG/å¾®ä¿¡å›¾ç‰‡_20251226192809_112_285.jpg) |
## ğŸ“š é¡¹ç›®æ¦‚è¿°

Zotero MCP æœåŠ¡å™¨æ˜¯ä¸€ä¸ªåŸºäº Model Context Protocol çš„å·¥å…·æœåŠ¡å™¨ï¼Œå®ƒä¸º Claude Desktop ç­‰ AI åº”ç”¨æä¾›äº†ä¸ Zotero æ–‡çŒ®ç®¡ç†ç³»ç»Ÿçš„æ— ç¼é›†æˆã€‚é€šè¿‡æ­¤æœåŠ¡å™¨ï¼ŒAI åŠ©æ‰‹å¯ä»¥ï¼š

- ğŸ” æ™ºèƒ½æœç´¢æ‚¨çš„ Zotero æ–‡çŒ®åº“
- ğŸ“– è·å–æ–‡çŒ®çš„è¯¦ç»†ä¿¡æ¯
- ğŸ·ï¸ æŒ‰æ ‡ç­¾ã€ä½œè€…ã€å¹´ä»½ç­‰å¤šç»´åº¦ç­›é€‰æ–‡çŒ®
- ğŸ”— é€šè¿‡ DOIã€ISBN ç­‰æ ‡è¯†ç¬¦ç²¾ç¡®å®šä½æ–‡çŒ®

è¿™ä½¿å¾— AI åŠ©æ‰‹èƒ½å¤Ÿå¸®åŠ©æ‚¨è¿›è¡Œæ–‡çŒ®ç»¼è¿°ã€å¼•ç”¨ç®¡ç†ã€ç ”ç©¶è¾…åŠ©ç­‰å­¦æœ¯å·¥ä½œã€‚

## ğŸš€ é¡¹ç›®ç»“æ„

æœ¬é¡¹ç›®é‡‡ç”¨äº†**ç»Ÿä¸€æ¶æ„**ï¼Œå°† MCP æœåŠ¡å™¨é›†æˆåœ¨æ’ä»¶å†…ï¼š

- **`zotero-mcp-plugin/`**: ä¸€ä¸ªé›†æˆäº† **MCP æœåŠ¡å™¨åŠŸèƒ½**çš„ Zotero æ’ä»¶ï¼Œä½¿ç”¨ Streamable HTTP åè®®ç›´æ¥ä¸ AI å®¢æˆ·ç«¯é€šä¿¡
- **`IMG/`**: æˆªå›¾å’Œè¯´æ˜æ–‡æ¡£å›¾ç‰‡
- **`README.md`** / **`README-zh.md`**: é¡¹ç›®è¯´æ˜æ–‡æ¡£

**ç»Ÿä¸€æ¶æ„ï¼š**
```
AI å®¢æˆ·ç«¯ â†” Streamable HTTP â†” Zotero æ’ä»¶ï¼ˆé›†æˆ MCP æœåŠ¡å™¨ï¼‰
```

è¿™ç§è®¾è®¡æ¶ˆé™¤äº†å¯¹å•ç‹¬ MCP æœåŠ¡å™¨è¿›ç¨‹çš„éœ€æ±‚ï¼Œæä¾›äº†æ›´åŠ ç®€åŒ–å’Œé«˜æ•ˆçš„é›†æˆæ–¹å¼ã€‚

---

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹æŒ‡å—

æœ¬æŒ‡å—æ—¨åœ¨å¸®åŠ©æ™®é€šç”¨æˆ·å¿«é€Ÿé…ç½®å’Œä½¿ç”¨ Zotero MCPï¼Œè®©æ‚¨çš„ AI åŠ©æ‰‹èƒ½å¤Ÿä¸ Zotero æ–‡çŒ®åº“æ— ç¼åä½œã€‚

### 1. å¿«é€Ÿä½¿ç”¨æ•™ç¨‹ï¼ˆé¢å‘æ™®é€šç”¨æˆ·ï¼‰

**Zotero MCP æ˜¯ä»€ä¹ˆï¼Ÿ**

ç®€å•æ¥è¯´ï¼ŒZotero MCP æ˜¯ä¸€åº§æ¡¥æ¢ï¼Œå®ƒè¿æ¥äº†æ‚¨çš„ AI å®¢æˆ·ç«¯ï¼ˆå¦‚ Cherry Studio, Gemini CLI, Claude Desktop ç­‰ï¼‰å’Œæœ¬åœ°çš„ Zotero æ–‡çŒ®ç®¡ç†è½¯ä»¶ã€‚é€šè¿‡å®ƒï¼ŒAI åŠ©æ‰‹å¯ä»¥ç›´æ¥æœç´¢ã€æŸ¥è¯¢å’Œå¼•ç”¨æ‚¨ Zotero åº“ä¸­çš„æ–‡çŒ®ï¼Œæå¤§åœ°æå‡å­¦æœ¯ç ”ç©¶å’Œå†™ä½œæ•ˆç‡ã€‚

**ä¸¤æ­¥å¿«é€Ÿå¼€å§‹ï¼š**

1.  **å®‰è£…æ’ä»¶**ï¼š
    *   å‰å¾€é¡¹ç›®çš„ [Releases é¡µé¢](https://github.com/cookjohn/zotero-mcp/releases) ä¸‹è½½æœ€æ–°çš„ `zotero-mcp-plugin-x.x.x.xpi` æ–‡ä»¶ã€‚
    *   åœ¨ Zotero ä¸­ï¼Œé€šè¿‡ `å·¥å…· -> é™„åŠ ç»„ä»¶` å®‰è£…è¯¥ `.xpi` æ–‡ä»¶ã€‚
    *   é‡å¯ Zoteroã€‚

2.  **é…ç½®æ’ä»¶**ï¼š
    *   åœ¨ Zotero çš„ `é¦–é€‰é¡¹ -> Zotero MCP Plugin` æ ‡ç­¾é¡µä¸­ï¼š
        - **å¯ç”¨æœåŠ¡å™¨**ï¼šå‹¾é€‰æ­¤é€‰é¡¹å¯åŠ¨é›†æˆçš„ MCP æœåŠ¡å™¨
        - **ç«¯å£è®¾ç½®**ï¼šé»˜è®¤ä¸º `23120`ï¼ˆå¯æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰
        - **ç”Ÿæˆå®¢æˆ·ç«¯é…ç½®**ï¼šç‚¹å‡»æ­¤æŒ‰é’®è·å–é€‚ç”¨äºæ‚¨ AI å®¢æˆ·ç«¯çš„é…ç½®ä»£ç 
    *   å°†ç”Ÿæˆçš„é…ç½®ä»£ç å¤åˆ¶åˆ°æ‚¨çš„ AI å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ä¸­

é…ç½®å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥åœ¨ AI åŠ©æ‰‹ä¸­é€šè¿‡è‡ªç„¶è¯­è¨€ä¸æ‚¨çš„ Zotero æ–‡çŒ®åº“è¿›è¡Œäº¤äº’äº†ã€‚

**é…ç½®ç¤ºä¾‹ï¼ˆClaude Desktopï¼‰ï¼š**
```json
{
  "mcpServers": {
    "zotero": {
      "transport": "streamable_http",
      "url": "http://127.0.0.1:23120/mcp"
    }
  }
}
```

**ä½¿ç”¨ç¤ºä¾‹:**

-   `"å¸®æˆ‘æŸ¥æ‰¾ä¸€ä¸‹æˆ‘çš„ Zotero åº“é‡Œæ‰€æœ‰å…³äº"äººå·¥æ™ºèƒ½"çš„æ–‡çŒ®"`
-   `"è·å–å»å¹´ç”± Hinton å‘è¡¨çš„å…³äº transformer çš„æœŸåˆŠæ–‡ç« "`
-   `"æŸ¥æ‰¾ DOI ä¸º 10.1038/nature14539 çš„æ–‡çŒ®"`

---

### 2. è¿æ¥ AI å®¢æˆ·ç«¯

**é‡è¦**ï¼šZotero æ’ä»¶ç°åœ¨åŒ…å«äº†**é›†æˆçš„ MCP æœåŠ¡å™¨**ï¼Œä½¿ç”¨ Streamable HTTP åè®®ã€‚æ— éœ€å®‰è£…å•ç‹¬çš„æœåŠ¡å™¨ã€‚

#### Streamable HTTP è¿æ¥

æ’ä»¶ä½¿ç”¨ Streamable HTTP åè®®ï¼Œæ”¯æŒä¸ AI å®¢æˆ·ç«¯çš„å®æ—¶åŒå‘é€šä¿¡ï¼š

1. åœ¨ Zotero æ’ä»¶è®¾ç½®ä¸­**å¯ç”¨æœåŠ¡å™¨**
2. ç‚¹å‡»**ç”Ÿæˆå®¢æˆ·ç«¯é…ç½®**æŒ‰é’®
3. å°†ç”Ÿæˆçš„é…ç½®**å¤åˆ¶åˆ°æ‚¨çš„ AI å®¢æˆ·ç«¯**

#### æ”¯æŒçš„ AI å®¢æˆ·ç«¯

- **Claude Desktop**: Streamable HTTP MCP æ”¯æŒ
- **Cherry Studio**: Streamable HTTP æ”¯æŒ
- **Cursor IDE**: Streamable HTTP MCP æ”¯æŒ
- **è‡ªå®šä¹‰å®ç°**: Streamable HTTP åè®®

### éªŒè¯ä¸æ•…éšœæ’æŸ¥

é…ç½®å®Œæˆåï¼Œå¦‚ä½•ç¡®è®¤ä¸€åˆ‡æ­£å¸¸å·¥ä½œï¼Ÿ

**1. éªŒè¯è¿æ¥**

*   **æŸ¥çœ‹å®¢æˆ·ç«¯çŠ¶æ€**ï¼šå¤§å¤šæ•° AI å®¢æˆ·ç«¯ï¼ˆå¦‚ ChatBox, Cherry Studioï¼‰çš„ MCP é…ç½®ç•Œé¢ä¼šæ˜¾ç¤ºæœåŠ¡å™¨çš„è¿æ¥çŠ¶æ€ã€‚å¦‚æœæ˜¾ç¤ºä¸º "Connected" æˆ–ç»¿è‰²æŒ‡ç¤ºç¯ï¼Œè¯´æ˜è¿æ¥å·²æˆåŠŸå»ºç«‹ã€‚
*   **ä½¿ç”¨æµ‹è¯•å‘½ä»¤**ï¼šåœ¨ AI åŠ©æ‰‹çš„èŠå¤©æ¡†ä¸­ï¼Œå‘é€ä¸€ä¸ªç®€å•çš„æµ‹è¯•å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š
    `"ä½¿ç”¨ zotero å·¥å…·æŸ¥æ‰¾ä»»ä½•æ–‡çŒ®ï¼Œè¿”å›ä¸€æ¡å³å¯"`
    å¦‚æœ AI èƒ½å¤Ÿè°ƒç”¨ `zotero.search_library` å¹¶è¿”å›ç»“æœï¼Œè¯´æ˜æ•´ä¸ªé“¾è·¯å·²é€šã€‚

**2. æ•…éšœæ’æŸ¥æŒ‡å—**

å¦‚æœè¿æ¥å¤±è´¥æˆ–å·¥å…·ä¸å·¥ä½œï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š

| æ­¥éª¤ | æ£€æŸ¥é¡¹ | è§£å†³æ–¹æ¡ˆ |
| :--- | :--- | :--- |
| **1** | **Zotero æ’ä»¶æœåŠ¡** | ç¡®ä¿ Zotero æ­£åœ¨è¿è¡Œï¼Œå¹¶ä¸”åœ¨ `é¦–é€‰é¡¹ -> Zotero MCP Plugin` ä¸­ï¼Œ"Enable Server" å·²è¢«å‹¾é€‰ã€‚ |
| **2** | **è·¯å¾„é…ç½®** | ç¡®è®¤ AI å®¢æˆ·ç«¯ä¸­çš„ `command` è®¾ç½®ä¸º `node`ï¼Œå¹¶ä¸”ä½œä¸ºå‚æ•°çš„ `index.js` **ç»å¯¹è·¯å¾„**å®Œå…¨æ­£ç¡®ã€‚è·¯å¾„é”™è¯¯æ˜¯å¯¼è‡´å¤±è´¥çš„æœ€å¸¸è§åŸå› ã€‚ |
| **3** | **ç«¯å£å†²çª** | å¦‚æœ Zotero æ’ä»¶ç«¯å£ `23119` è¢«å ç”¨ï¼Œè¯·åœ¨æ’ä»¶è®¾ç½®ä¸­æ›´æ¢ç«¯å£ï¼Œå¹¶åœ¨ `zotero-mcp-server` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼Œå†…å®¹ä¸º `ZOTERO_API_PORT=æ–°ç«¯å£å·`ã€‚ |
| **4** | **æŸ¥çœ‹æ—¥å¿—** | å¤§å¤šæ•°å®¢æˆ·ç«¯éƒ½æä¾› MCP æœåŠ¡å™¨çš„æ—¥å¿—è¾“å‡ºåŠŸèƒ½ã€‚åœ¨ MCP é…ç½®ç•Œé¢å¯»æ‰¾ "Show Logs" æˆ–ç±»ä¼¼çš„æŒ‰é’®ã€‚æ—¥å¿—æ˜¯å®šä½é—®é¢˜çš„æœ€æœ‰æ•ˆå·¥å…·ï¼Œé€šå¸¸ä¼šæ˜ç¡®æŒ‡å‡ºæ˜¯è·¯å¾„é”™è¯¯ã€å‘½ä»¤å¤±è´¥è¿˜æ˜¯å…¶ä»–é—®é¢˜ã€‚ |
| **5** | **é˜²ç«å¢™/å®‰å…¨è½¯ä»¶** | ç¡®è®¤æ‚¨çš„é˜²ç«å¢™æˆ–å®‰å…¨è½¯ä»¶æ²¡æœ‰é˜»æ­¢ `node.exe` (Windows) æˆ– `node` (macOS/Linux) çš„ç½‘ç»œé€šä¿¡ã€‚ |
| **6** | **ç¯å¢ƒä¾èµ–** | ç¡®ä¿æ‚¨çš„ç³»ç»Ÿä¸­å·²å®‰è£… Node.js (ç‰ˆæœ¬ 18+)ã€‚æ‚¨å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¿è¡Œ `node -v` æ¥æ£€æŸ¥ç‰ˆæœ¬ã€‚ |

**3. å¸¸è§é”™è¯¯ä¿¡æ¯**

*   **`command not found` æˆ– `spawn ENOENT`**: é€šå¸¸è¡¨ç¤º `node` å‘½ä»¤ä¸å­˜åœ¨æˆ–è·¯å¾„é”™è¯¯ã€‚è¯·æ£€æŸ¥ Node.js æ˜¯å¦å·²æ­£ç¡®å®‰è£…å¹¶åŠ å…¥äº†ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œæˆ–è€…æ£€æŸ¥å®¢æˆ·ç«¯é…ç½®ä¸­çš„å‘½ä»¤æ˜¯å¦æ­£ç¡®ã€‚
*   **`Error: connect ECONNREFUSED 127.0.0.1:23119`**: è¡¨ç¤º MCP æœåŠ¡å™¨æ— æ³•è¿æ¥åˆ° Zotero æ’ä»¶ã€‚è¯·æ‰§è¡Œä¸Šè¿°æ’æŸ¥æŒ‡å—çš„ç¬¬ 1 æ­¥å’Œç¬¬ 3 æ­¥ã€‚
*   **JSON æ ¼å¼é”™è¯¯**: åœ¨æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶æ—¶ï¼Œè¯·ç¡®ä¿æ‚¨çš„ JSON è¯­æ³•æ­£ç¡®ï¼Œæ²¡æœ‰é—æ¼é€—å·æˆ–æ‹¬å·ã€‚

å¦‚æœä»¥ä¸Šæ­¥éª¤å‡æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·å‰å¾€ [GitHub Issues](https://github.com/cookjohn/zotero-mcp/issues) é¡µé¢ï¼Œå¹¶é™„ä¸Šæ‚¨çš„æ“ä½œç³»ç»Ÿã€å®¢æˆ·ç«¯ç‰ˆæœ¬å’Œç›¸å…³çš„æ—¥å¿—ä¿¡æ¯ï¼Œä»¥ä¾¿æˆ‘ä»¬æ›´å¥½åœ°å¸®åŠ©æ‚¨ã€‚

---

## ğŸ§© æ’ä»¶åŠŸèƒ½ç‰¹æ€§

`zotero-mcp-plugin` æ˜¯ä¸€ä¸ªé›†æˆäº† MCP æœåŠ¡å™¨åŠŸèƒ½çš„ Zotero æ’ä»¶ï¼Œç›´æ¥ä¸ AI å®¢æˆ·ç«¯é€šä¿¡ã€‚

### ä¸»è¦åŠŸèƒ½

-   **é›†æˆ MCP æœåŠ¡å™¨**: å†…ç½® MCP æœåŠ¡å™¨ï¼Œä½¿ç”¨ Streamable HTTP åè®®
-   **Streamable HTTP åè®®**: æ”¯æŒä¸ AI å®¢æˆ·ç«¯çš„å®æ—¶åŒå‘é€šä¿¡
-   **é«˜çº§æœç´¢å¼•æ“**: æ”¯æŒå…¨æ–‡æœç´¢ï¼ŒæŒ‰æ ‡é¢˜ã€ä½œè€…ã€å¹´ä»½ã€æ ‡ç­¾ã€æ–‡çŒ®ç±»å‹ç­‰ç­›é€‰
-   **æ–‡çŒ®é›†ç®¡ç†**: æµè§ˆã€æœç´¢å’Œæ£€ç´¢æŒ‡å®šæ–‡çŒ®é›†ä¸­çš„æ¡ç›®
-   **æ ‡ç­¾æœç´¢ç³»ç»Ÿ**: å¼ºå¤§çš„æ ‡ç­¾æŸ¥è¯¢åŠŸèƒ½ï¼ˆ`any`ã€`all`ã€`none` æ¨¡å¼ï¼‰åŠåŒ¹é…é€‰é¡¹
-   **PDF å¤„ç†**: ä» PDF é™„ä»¶ä¸­æå–å…¨æ–‡ï¼Œæ”¯æŒæŒ‰é¡µè®¿é—®
-   **æ ‡æ³¨æ£€ç´¢**: æå– PDF ä¸­çš„é«˜äº®ã€æ³¨é‡Šå’Œç¬”è®°
-   **å®¢æˆ·ç«¯é…ç½®ç”Ÿæˆå™¨**: è‡ªåŠ¨ä¸ºå„ç§ AI å®¢æˆ·ç«¯ç”Ÿæˆé…ç½®
-   **å®‰å…¨æ€§**: ä»…æœ¬åœ°æ“ä½œï¼Œç¡®ä¿æ•°æ®å®Œå…¨éšç§
-   **ç”¨æˆ·å‹å¥½**: é€šè¿‡ Zotero é¦–é€‰é¡¹ç•Œé¢è½»æ¾é…ç½®

---

## æ•ˆæœå±•ç¤º

è¿™é‡Œæ˜¯ä¸€äº›å±•ç¤º Zotero MCP åŠŸèƒ½çš„æˆªå›¾ï¼š

| åŠŸèƒ½ | æˆªå›¾ |
| :--- | :---: |
| **åŠŸèƒ½è¯´æ˜** | ![åŠŸèƒ½è¯´æ˜](./IMG/åŠŸèƒ½è¯´æ˜.png) |
| **æ–‡çŒ®æ£€ç´¢** | ![æ–‡çŒ®æ£€ç´¢](./IMG/æ–‡çŒ®æ£€ç´¢.png) |
| **å…ƒæ•°æ®æŸ¥çœ‹** | ![å…ƒæ•°æ®æŸ¥çœ‹](./IMG/å…ƒæ•°æ®æŸ¥çœ‹.png) |
| **å…¨æ–‡è¯»å– 1** | ![å…¨æ–‡è¯»å– 1](./IMG/å…¨æ–‡è¯»å–1.png) |
| **å…¨æ–‡è¯»å– 2** | ![å…¨æ–‡è¯»å– 2](./IMG/å…¨æ–‡è¯»å–2.png) |
| **é™„ä»¶æ£€ç´¢ (Gemini CLI)** | ![é™„ä»¶æ£€ç´¢](./IMG/geminicli-é™„ä»¶æ£€ç´¢.png) |
| **PDF è¯»å– (Gemini CLI)** | ![PDF è¯»å–](./IMG/geminicli-pdfè¯»å–.png) |

---

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…å®‰è£…æŒ‡å—

### å‰ç½®è¦æ±‚

- **Zotero** 7.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js** 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆä»…ç”¨äºå¼€å‘ï¼‰
- **npm** æˆ– **yarn** åŒ…ç®¡ç†å™¨ï¼ˆä»…ç”¨äºå¼€å‘ï¼‰
- **Git**ï¼ˆä»…ç”¨äºå¼€å‘ï¼‰

### æ­¥éª¤ 1: å®‰è£…å’Œé…ç½® Zotero æ’ä»¶

1. å‰å¾€é¡¹ç›®çš„ [Releases é¡µé¢](https://github.com/cookjohn/zotero-mcp/releases) ä¸‹è½½æœ€æ–°çš„ `zotero-mcp-plugin-x.x.x.xpi` æ–‡ä»¶
2. åœ¨ Zotero ä¸­ï¼Œé€šè¿‡ `å·¥å…· -> é™„åŠ ç»„ä»¶` å®‰è£…è¯¥ `.xpi` æ–‡ä»¶
3. åœ¨ Zotero çš„ `é¦–é€‰é¡¹ -> Zotero MCP Plugin` æ ‡ç­¾é¡µä¸­ï¼Œé…ç½®æœåŠ¡å™¨è®¾ç½®ï¼š
   - **å¯ç”¨æœåŠ¡å™¨**ï¼šå¯åŠ¨é›†æˆçš„ MCP æœåŠ¡å™¨
   - **ç«¯å£è®¾ç½®**ï¼šé»˜è®¤ä¸º `23120`
   - **ç”Ÿæˆå®¢æˆ·ç«¯é…ç½®**ï¼šç‚¹å‡»æŒ‰é’®è·å–é€‚ç”¨äºæ‚¨ AI å®¢æˆ·ç«¯çš„é…ç½®

### æ­¥éª¤ 2: å¼€å‘ç¯å¢ƒè®¾ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœæ‚¨æƒ³è¦ä¿®æ”¹æˆ–å¼€å‘æ’ä»¶ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è®¾ç½®å¼€å‘ç¯å¢ƒï¼š

1. å…‹éš†æœ¬ä»“åº“åˆ°æœ¬åœ°ï¼š
   ```bash
   git clone https://github.com/cookjohn/zotero-mcp.git
   cd zotero-mcp
   ```

2. è®¾ç½®æ’ä»¶å¼€å‘ç¯å¢ƒï¼š
   ```bash
   cd zotero-mcp-plugin
   npm install
   npm run build
   ```

3. åœ¨ Zotero ä¸­åŠ è½½æ’ä»¶ï¼š
   ```bash
   # å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡è½½ï¼‰
   npm run start
   
   # æˆ–æ‰‹åŠ¨å®‰è£…æ„å»ºåçš„ .xpi æ–‡ä»¶
   npm run build
   ```

### æ­¥éª¤ 3: è¿æ¥ AI å®¢æˆ·ç«¯

æ’ä»¶åŒ…å«äº†é›†æˆçš„ MCP æœåŠ¡å™¨ï¼Œä½¿ç”¨ Streamable HTTP åè®®ï¼š

**Streamable HTTP è¿æ¥ç¤ºä¾‹ï¼ˆClaude Desktopï¼‰ï¼š**

1. æ‰¾åˆ° Claude Desktop é…ç½®æ–‡ä»¶ï¼š
   - **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
   - **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
   - **Linux**: `~/.config/Claude/claude_desktop_config.json`

2. ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š
   ```json
   {
     "mcpServers": {
       "zotero": {
         "transport": "streamable_http",
         "url": "http://127.0.0.1:23120/mcp"
       }
     }
   }
   ```

3. é‡å¯ Claude Desktop åº”ç”¨

### æ­¥éª¤ 4: å¼€å§‹ä½¿ç”¨

é…ç½®å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥åœ¨ AI åŠ©æ‰‹ä¸­é€šè¿‡è‡ªç„¶è¯­è¨€ä¸æ‚¨çš„ Zotero æ–‡çŒ®åº“è¿›è¡Œäº¤äº’äº†ã€‚

**ç¤ºä¾‹:**

-   `"å¸®æˆ‘æŸ¥æ‰¾ä¸€ä¸‹æˆ‘çš„ Zotero åº“é‡Œæ‰€æœ‰å…³äºâ€œäººå·¥æ™ºèƒ½â€çš„æ–‡çŒ®"`
-   `"è·å–å»å¹´ç”± Hinton å‘è¡¨çš„å…³äº transformer çš„æœŸåˆŠæ–‡ç« "`
-   `"æŸ¥æ‰¾ DOI ä¸º 10.1038/nature14539 çš„æ–‡çŒ®"`

---

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…æ–‡æ¡£

### æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Streamable HTTP  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI å®¢æˆ·ç«¯    â”‚ <--------------> â”‚ Zotero æ’ä»¶ï¼ˆé›†æˆ MCP æœåŠ¡å™¨ï¼‰ â”‚
â”‚ (Claude, etc) â”‚                   â”‚ + å†…ç½®API + æ•°æ®è®¿é—®        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

1. **AI å®¢æˆ·ç«¯** é€šè¿‡ Streamable HTTP åè®®ç›´æ¥ä¸æ’ä»¶é€šä¿¡
2. **Zotero æ’ä»¶** å†…ç½® MCP æœåŠ¡å™¨ï¼Œå¤„ç† MCP è¯·æ±‚å¹¶è°ƒç”¨ Zotero API
3. **æ•°æ®å¤„ç†** åœ¨æ’ä»¶å†…éƒ¨å®Œæˆï¼Œæ— éœ€é¢å¤–è¿›ç¨‹
4. **å“åº”è¿”å›** ç›´æ¥å‘é€ç»™ AI å®¢æˆ·ç«¯

### æ’ä»¶å¼€å‘

1. è¿›å…¥æ’ä»¶ç›®å½•å¹¶å®‰è£…ä¾èµ–ï¼š
   ```bash
   cd zotero-mcp-plugin
   npm install
   ```
   
2. å¯åŠ¨å¼€å‘æ¨¡å¼ï¼š
   ```bash
   npm start
   ```
   è¿™å°†å¯åŠ¨ Zotero å¹¶è‡ªåŠ¨åŠ è½½æ’ä»¶ã€‚ä»£ç æ›´æ”¹æ—¶ä¼šè‡ªåŠ¨é‡è½½ã€‚

3. æ„å»ºæ’ä»¶ `.xpi` æ–‡ä»¶ï¼š
   ```bash
   npm run build
   ```

### MCP æœåŠ¡å™¨å¼€å‘

MCP æœåŠ¡å™¨å·²é›†æˆåœ¨æ’ä»¶å†…ï¼Œä½äº `src/modules/streamableMCPServer.ts`ã€‚ä¸»è¦åŠŸèƒ½ï¼š

- Streamable HTTP è¿æ¥ç®¡ç†
- MCP åè®®å¤„ç†
- å·¥å…·è°ƒç”¨è·¯ç”±
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

---

## ğŸ”§ API å‚è€ƒ

`zotero-mcp-server` æä¾›äº†ä»¥ä¸‹å·¥å…·ä¾› AI åŠ©æ‰‹è°ƒç”¨ï¼š

### `search_library`

æœç´¢ Zotero æ–‡çŒ®åº“ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|---|---|---|---|
| `q` | string | å¦ | é€šç”¨æœç´¢å…³é”®è¯ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€å¹´ä»½ï¼‰ |
| `title` | string | å¦ | æ ‡é¢˜å…³é”®è¯ |
| `creator` | string | å¦ | ä½œè€…å§“å |
| `year` | string | å¦ | å¹´ä»½æˆ–å¹´ä»½èŒƒå›´ï¼ˆå¦‚ "2020" æˆ– "2020-2024"ï¼‰ |
| `tag` | string | å¦ | æ ‡ç­¾ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš” |
| `itemType` | string | å¦ | æ–‡çŒ®ç±»å‹ï¼ˆå¦‚ "journalArticle", "book"ï¼‰ |
| `collectionKey` | string | å¦ | æ–‡çŒ®é›† Key |
| `hasAttachment` | boolean | å¦ | æ˜¯å¦æœ‰é™„ä»¶ |
| `hasNote` | boolean | å¦ | æ˜¯å¦æœ‰ç¬”è®° |
| `limit` | number | å¦ | è¿”å›ç»“æœæ•°é‡ï¼ˆæœ€å¤§ 500ï¼Œé»˜è®¤ 100ï¼‰ |
| `offset` | number | å¦ | åˆ†é¡µåç§»é‡ |
| `sort` | string | å¦ | æ’åºæ–¹å¼ï¼šrelevance, title, creator, date, dateAdded, dateModified |
| `direction` | string | å¦ | æ’åºæ–¹å‘ï¼šasc, desc |
| `fields` | string | å¦ | è‡ªå®šä¹‰è¿”å›å­—æ®µï¼Œé€—å·åˆ†éš” |

### `get_item_details`

è·å–å•ä¸ªæ–‡çŒ®çš„å®Œæ•´ä¿¡æ¯ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|---|---|---|---|
| `itemKey` | string | æ˜¯ | æ–‡çŒ®çš„å”¯ä¸€ Key |

### `find_item_by_identifier`

é€šè¿‡ DOI æˆ– ISBN æŸ¥æ‰¾æ–‡çŒ®ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|---|---|---|---|
| `doi` | string | å¦* | æ–‡çŒ®çš„ DOI |
| `isbn` | string | å¦* | ä¹¦ç±çš„ ISBN |

*è‡³å°‘éœ€è¦æä¾› `doi` æˆ– `isbn` ä¸­çš„ä¸€ä¸ªã€‚

---

## ğŸ› å¸¸è§é—®é¢˜ (FAQ)

#### 1. è¿æ¥è¢«æ‹’ç»é”™è¯¯

**é—®é¢˜**: `Error: connect ECONNREFUSED 127.0.0.1:PORT`
**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿ Zotero æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥ Zotero æ’ä»¶æ˜¯å¦å·²å¯ç”¨
- åœ¨æ’ä»¶è®¾ç½®ä¸­æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å·²å¯ç”¨
- ç¡®è®¤ç«¯å£å·ï¼ˆé»˜è®¤ 23120ï¼‰ä¸ AI å®¢æˆ·ç«¯é…ç½®ä¸€è‡´

#### 2. Streamable HTTP è¿æ¥å¤±è´¥

**é—®é¢˜**: `Streamable HTTP connection failed`
**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿åœ¨æ’ä»¶è®¾ç½®ä¸­å¯ç”¨äº†æœåŠ¡å™¨
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®ï¼Œå…è®¸ Zotero è¿›è¡Œç½‘ç»œé€šä¿¡
- ç¡®è®¤ URL æ ¼å¼æ­£ç¡®ï¼š`http://127.0.0.1:23120/mcp`

#### 3. Claude Desktop æ— æ³•è¯†åˆ«å·¥å…·

**é—®é¢˜**: Claude ä¸æ˜¾ç¤º Zotero ç›¸å…³å·¥å…·
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `claude_desktop_config.json` ä¸­çš„é…ç½®æ˜¯å¦æ­£ç¡®
- ç¡®ä¿ä½¿ç”¨äº† `"transport": "streamable_http"` é…ç½®
- ç¡®ä¿ JSON æ ¼å¼æ­£ç¡®
- é‡å¯ Claude Desktop åº”ç”¨

#### 4. æ’ä»¶æœåŠ¡å™¨æ— æ³•å¯åŠ¨

**é—®é¢˜**: æ’ä»¶è®¾ç½®æ˜¾ç¤ºæœåŠ¡å™¨å¯åŠ¨å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œå°è¯•æ›´æ¢ç«¯å£
- é‡å¯ Zotero åº”ç”¨
- æŸ¥çœ‹ Zotero é”™è¯¯æ§åˆ¶å°ï¼ˆ`å·¥å…· -> å¼€å‘è€… -> é”™è¯¯æ§åˆ¶å°`ï¼‰

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1.  Fork æœ¬ä»“åº“ã€‚
2.  åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)ã€‚
3.  æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)ã€‚
4.  æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)ã€‚
5.  å¼€å¯ä¸€ä¸ª Pull Requestã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](./LICENSE) æˆæƒã€‚

## ğŸ™ è‡´è°¢

- [Zotero](https://www.zotero.org/) - ä¼˜ç§€çš„å¼€æºæ–‡çŒ®ç®¡ç†å·¥å…·ã€‚
- [Model Context Protocol](https://modelcontextprotocol.org/) - å®ç° AI å·¥å…·é›†æˆçš„åè®®ã€‚
- [![Using Zotero Plugin Template](https://img.shields.io/badge/Using-Zotero%20Plugin%20Template-blue?style=flat-square&logo=github)](https://github.com/windingwind/zotero-plugin-template)

